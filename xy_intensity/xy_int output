from astropy.io import fits
import pandas as pd

# Load the FITS file
file_path = '/Users/yuri/Desktop/Year 3 Lab/Astronomical Image Processing/Astro/Fits_Data/mosaic.fits'
with fits.open(file_path) as hdulist:
    # Access the primary image data
    #HDUList stores multiple sets of information about
    #the FITS file
    image_data = hdulist[0].data

# Prepare a list to store only a limited number of pixel data
pixel_data = []

# Set the limit to process only the first 1000 pixels
pixel_limit = 10000
count = 0

# Iterate over the 2D array of image data to extract intensity and position
for y in range(image_data.shape[0]):
    for x in range(image_data.shape[1]):
        intensity = image_data[y, x]
        pixel_data.append({'x': x, 'y': y, 'intensity': intensity})
        count += 1
        if count >= pixel_limit:
            break
    if count >= pixel_limit:
        break

# Convert the limited list to a DataFrame for easier viewing
df = pd.DataFrame(pixel_data)

# Display the limited DataFrame (for demonstration, using print here)
print(df)